#
# CIP Core
#
# Copyright Cybertrust Japan Co., Ltd., 2025
#
# Authors:
#   Hirotaka Motai <hirotaka.motai@miraclelinux.com>
#
# SPDX-License-Identifier: MIT
#
# short-description: Create SD card image for ZynqMP ZCU102
# long-description: Create a partitioned SD card image for Zynq UltraScale+ MPSoC ZCU102.
#

# SD card is partitioned as follows,
#  1st partition: fat32, 448MB, for kernel image and dtb
#  2nd partition: ext4, for rootfs

part /boot --source bootimg-partition --ondisk mmcblk0 --fstype=vfat --label boot --active --align 1024 --fixed-size 448
part / --source rootfs --ondisk mmcblk0 --fstype=ext4 --label root --align 1024 --exclude-path=boot --size=${ROOTFS_EXTRA}

bootloader --ptable msdos
